# ReSORT: an ID-recovery multi-face tracking method for surveillance cameras

### 01. Setup 
```
sudo chmod u+x detector/install.sh
sudo chmod u+x tracker/extractor/install.sh
bash install.sh
```

### 02. Run demo and visualize results
```
python demo.py --video <PATH OF VIDEO> \
               --tracker <TRACKER> \
               --network "resnet50" \
               --cpu False \
               --confidence_threshold 0.02 \
               --top_k 5000 \ 
               --nms_threshold 0.4 \
               --keep_top_k 750 \
               --resize 1 \
               --scale 1 \
               --save_video True \
               --vis_thres 0.8
```
--video : Path to the video. Default: "data/multi_cam.mp4" 

--tracker: Select "sort", "resort" or "deepsort". Default: "sort" 

--network: Backbone network "mobile0.25" or "resnet50". Default: "resnet50" 

--scale: Scaling of the FPS counter. Default: 1 
E.g: new_fps = old_fps / scale 

--save_video: Return output which is a video named "output.avi". Default: True 

### 03. Evaluation
We evaluate our method-ReSORT with SORT and DeepSORT on available metrics (CLEAR MOT) and three new defined metrics (TReRate, TIDRate and IDnew).

For evaluating, we show the results of a sampled Chokepoint annotation that is stored at "evaluation/dataset/Chokepoint", can be found at "evaluation/csv_result/".

## Notes:
- Annotations for predicting is generated by executing "generate_from_image.py" or "generate_from_video.py".
- Groundtruths (both images/videos and groundtruth annotations) will be fully updated soon.
- You can see demo (.mp4) at folder "toy_video". Our proposed tracker - ReSORT, compared to SORT and DeepSORT, decreases the number of switching IDs effectively.